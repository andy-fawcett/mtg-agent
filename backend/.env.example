# ======================
# Server Configuration
# ======================
NODE_ENV=development
PORT=3000

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3001

# ======================
# Database Configuration
# ======================
DATABASE_HOST=localhost
DATABASE_PORT=5434
DATABASE_NAME=mtg_agent_dev
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres_dev_password
DATABASE_URL=postgresql://postgres:postgres_dev_password@localhost:5434/mtg_agent_dev

# Connection Pool Settings
DATABASE_POOL_MAX=20
DATABASE_POOL_MIN=2

# ======================
# Redis Configuration
# ======================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://localhost:6379

# ======================
# Anthropic API
# ======================
# Get your key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-key-here
# Claude 4.5 Sonnet (latest as of Sept 2025) - same pricing as 3.5 Sonnet
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929
ANTHROPIC_MAX_TOKENS=2000

# ======================
# Security Configuration
# ======================
# Generate with: openssl rand -hex 32
SESSION_SECRET=your-session-secret-here-generate-with-openssl

# Session settings
SESSION_MAX_AGE=604800000
# 7 days in milliseconds
SESSION_NAME=mtg.sid

# Bcrypt cost factor (10-12 recommended)
BCRYPT_ROUNDS=12

# ======================
# Rate Limiting
# ======================
# Per-IP limits
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=10

# Anonymous user limits
RATE_LIMIT_ANONYMOUS_PER_DAY=3

# Free tier limits
RATE_LIMIT_FREE_PER_DAY=50
RATE_LIMIT_FREE_MAX_TOKENS=2000

# Premium tier limits
RATE_LIMIT_PREMIUM_PER_DAY=500
RATE_LIMIT_PREMIUM_MAX_TOKENS=4000

# ======================
# Cost Controls
# ======================
# Daily budget in cents ($1.00 = 100 cents)
DAILY_BUDGET_CENTS=100

# Alert thresholds (percentage of daily budget)
COST_ALERT_THRESHOLD_1=50
COST_ALERT_THRESHOLD_2=75
COST_ALERT_THRESHOLD_3=90

# ======================
# Feature Flags
# ======================
ENABLE_ANONYMOUS_ACCESS=true
ENABLE_REGISTRATION=true
ENABLE_CHAT=true

# ======================
# Logging
# ======================
LOG_LEVEL=debug
LOG_FORMAT=pretty

# ======================
# Development
# ======================
# Enable detailed error messages (disable in production)
SHOW_STACK_TRACES=true
